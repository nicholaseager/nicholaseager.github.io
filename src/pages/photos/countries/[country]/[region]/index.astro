---
import Text from "../../../../../components/ui/Text";
import TextContainer from "../../../../../components/ui/TextContainer";
import Gallery from "../../../../../layouts/Gallery.astro";
import { getPhotoLocations } from "../../../../../utils/photo-locations";

export async function getStaticPaths() {
  const photoLocations = await getPhotoLocations();

  // Filter to only get region locations (those with country/region format in id)
  const locations = photoLocations.filter((l) => l.slug.includes("/"));

  // Transform locations into Astro path params
  const uniquePaths = locations.map((location) => {
    const [country, region] = location.slug.split("/");
    return {
      params: { country, region },
      props: {
        location,
      },
    };
  });
  return uniquePaths;
}

const { location } = Astro.props;
---

<Gallery {...location}>
  <TextContainer slot="content">
    <Text variant="h2">A Collection of Moments</Text>
    <Text variant="body">
      Below, you'll find a collection of moments captured through my lens during
      this incredible journey. Each image tells its own story, documenting not
      just the breathtaking landscapes, but the raw emotions, unexpected
      encounters, and quiet contemplations that defined this adventure. I've
      carefully curated these photographs to transport you along the trail with
      me, sharing both the grand vistas and intimate details that caught my eye.
      As you scroll through, I hope these visual stories inspire your own
      wanderlust and offer a genuine glimpse into the experience of exploring
      this remarkable place.
    </Text>
  </TextContainer>
</Gallery>
